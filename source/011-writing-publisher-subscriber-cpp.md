<div id="interwiki"><span>[Wiki](/Documentation)</span></div>

*   [ROS](/ROS)
*   [Tutorials](/ROS/Tutorials)
*   [WritingPublisherSubscriber(c++)](/action/fullsearch/ROS/Tutorials/WritingPublisherSubscriber%28c%2B%2B%29?action=fullsearch&context=180&value=linkto%3A%22ROS%2FTutorials%2FWritingPublisherSubscriber%28c%2B%2B%29%22 "Click to do a full-text search for this title")

<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span><span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span>

<span class="anchor" id="line-1-1"></span><span class="anchor" id="line-2-1"></span>

<div>

<table>

<tbody>

<tr>

<td style="background-color: #cce0ff">**Note:** This tutorial assumes that you have completed the previous tutorials: [understanding ROS services and parameters](/ROS/Tutorials/UnderstandingServicesParams).</td>

</tr>

</tbody>

</table>

</div>

<span class="anchor" id="line-3-1"></span><span class="anchor" id="line-4-1"></span><span class="anchor" id="line-5-1"></span><span class="anchor" id="line-6-1"></span>

<div>

<table>

<tbody>

<tr>

<td style="background-color: #bbceee">![(!)](/moin_static197/rostheme/img/idea.png "(!)")It is appreciated that problems/questions regarding this tutorial are asked on [answers.ros.org](http://answers.ros.org). Don't forget to include in your question the link to this page, versions of your OS & ROS, and also add appropriate tags.</td>

</tr>

</tbody>

</table>

</div>

<span class="anchor" id="line-7-1"></span><span class="anchor" id="line-8-1"></span><span class="anchor" id="line-9-1"></span>

## Writing a Simple Publisher and Subscriber (C++)

<span class="anchor" id="line-10-1"></span>**Description:** This tutorial covers how to write a publisher and subscriber node in C++.  

<span class="anchor" id="line-11-1"></span><span class="anchor" id="line-12-1"></span><span class="anchor" id="line-13-1"></span><span class="anchor" id="line-14-1"></span>**Tutorial Level:** BEGINNER  

<span class="anchor" id="line-15-1"></span><span class="anchor" id="line-16-1"></span>**Next Tutorial:** [Examining the simple publisher and subscriber](/ROS/Tutorials/ExaminingPublisherSubscriber)  

<span class="anchor" id="line-17-1"></span>

<span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span>

<script type="text/javascript"><!-- // @@ Buildsystem macro function Buildsystem(sections) { var dotversion = ".buildsystem." // Tag shows unless already tagged $.each(sections.show, function() { $("div" + dotversion + this).not(".versionshow,.versionhide").addClass("versionshow") } ) // Tag hides unless already tagged $.each(sections.hide, function() { $("div" + dotversion + this).not(".versionshow,.versionhide").addClass("versionhide") } ) // Show or hide according to tag $(".versionshow").removeClass("versionshow").filter("div").show() $(".versionhide").removeClass("versionhide").filter("div").hide() } function getURLParameter(name) { return decodeURIComponent( ( new RegExp( '[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)' ).exec(location.search) || [,""] )[1].replace(/\+/g, '%20') ) || null; } $(document).ready(function() { var activesystem = "catkin"; var url_distro = getURLParameter('buildsystem'); if (url_distro) { activesystem = url_distro; } $("div.buildsystem").not("."+activesystem).hide(); $("#"+activesystem).click(); $("input.version:hidden").each(function() { var bg = $(this).attr("value").split(":"); $("div.version." + bg[0]).css("background-color", bg[1]).removeClass(bg[0]) }); }) // --></script> <span class="btn-group"><button id="catkin" class="btn btn-default" onclick="Buildsystem({show:['catkin'], hide:['rosbuild']});this.style.color='#e6e6e6';this.style.background='#3e4f6e';document.getElementById('rosbuild').style.background='#e6e6e6';document.getElementById('rosbuild').style.color='#3e4f6e';return false">catkin</button> <button id="rosbuild" class="btn btn-default" onclick="Buildsystem({show:['rosbuild'], hide:['catkin']});this.style.color='#e6e6e6';this.style.background='#3e4f6e';document.getElementById('catkin').style.background='#e6e6e6';document.getElementById('catkin').style.color='#3e4f6e';return false">rosbuild</button></span><span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span>

<div class="table-of-contents">

Contents

1.  [Writing the Publisher Node](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.Writing_the_Publisher_Node)
    1.  [The Code](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.The_Code)
    2.  [The Code Explained](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.The_Code_Explained)
2.  [Writing the Subscriber Node](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.Writing_the_Subscriber_Node)
    1.  [The Code](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.The_Code-1)
    2.  [The Code Explained](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.The_Code_Explained-1)
3.  [Building your nodes](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.Building_your_nodes)
4.  [Building your nodes](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.Building_your_nodes-1)
5.  [Additional Resources](#Additional_Resources)
    1.  [Video Tutorial](#Video_Tutorial)

</div>

<span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span>

<div dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.content" lang="en"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.top"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3"></span>

### Writing the Publisher Node

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4"></span>

"Node" is the ROS term for an executable that is connected to the ROS network. Here we'll create a publisher ("talker") node which will continually broadcast a message.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12"></span>

<div class="buildsystem rosbuild"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-1"></span>

Change directory into the beginner_tutorials package, you created previously in the [creating a rosbuild package](/ROS/Tutorials/CreatingPackage) tutorial:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-1"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-1"></span>

<pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-2"></span>roscd beginner_tutorials</pre>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21"></span>

<div class="buildsystem catkin"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-3"></span>

Change directories to your beginner_tutorials package you created in your catkin workspace previous tutorials:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-2"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-2"></span>

<pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-4"></span>cd ~/catkin_ws/src/beginner_tutorials</pre>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23"></span>

#### The Code

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33"></span>

<div class="buildsystem catkin"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-5"></span>

Create a <tt class="backtick">src</tt> directory in the beginner_tutorials package directory:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-3"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-3"></span>

<pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-6"></span>mkdir -p ~/catkin_ws/src/beginner_tutorials/src</pre>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-1"></span>

This directory will contain any source files for our beginner_tutorials package.

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35"></span>

Create the src/talker.cpp file within the beginner_tutorials package and paste the following inside it:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-7"></span>_[https://raw.github.com/ros/ros_tutorials/indigo-devel/roscpp_tutorials/talker/talker.cpp](https://raw.github.com/ros/ros_tutorials/indigo-devel/roscpp_tutorials/talker/talker.cpp)_<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-59"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-60"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-61"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-62"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-63"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-64"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-65"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-66"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-67"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-68"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-69"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-70"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-71"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-72"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-73"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-74"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-75"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-76"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-77"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-78"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-79"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-80"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-81"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-82"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-83"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-84"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-85"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-86"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-87"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-88"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-89"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-90"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-2"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">function isnumbered(obj) { return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber'; } function nformat(num,chrs,add) { var nlen = Math.max(0,chrs-(''+num).length), res = ''; while (nlen>0) { res += ' '; nlen-- } return res+num+add; } function addnumber(did, nstart, nstep) { var c = document.getElementById(did), l = c.firstChild, n = 1; if (!isnumbered(c)) { if (typeof nstart == 'undefined') nstart = 1; if (typeof nstep == 'undefined') nstep = 1; var n = nstart; while (l != null) { if (l.tagName == 'SPAN') { var s = document.createElement('SPAN'); var a = document.createElement('A'); s.className = 'LineNumber'; a.appendChild(document.createTextNode(nformat(n,4,''))); a.href = '#' + did + '_' + n; s.appendChild(a); s.appendChild(document.createTextNode(' ')); n += nstep; if (l.childNodes.length) { l.insertBefore(s, l.firstChild); } else { l.appendChild(s); } } l = l.nextSibling; } } return false; } function remnumber(did) { var c = document.getElementById(did), l = c.firstChild; if (isnumbered(c)) { while (l != null) { if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild); l = l.nextSibling; } } return false; } function togglenumber(did, nstart, nstep) { var c = document.getElementById(did); if (isnumbered(c)) { remnumber(did); } else { addnumber(did,nstart,nstep); } return false; }</script> <script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b\', 27, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b" lang="en"><span class="line"><span class="LineNumber">[27](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_27)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_27"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-9"></span><span class="Preprc">#</span><span class="Preprc">include "ros</span><span class="Preprc">/</span><span class="Preprc">ros.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber">[28](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_28)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_28"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-6"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include "std_msgs</span><span class="Preprc">/</span><span class="Preprc">String.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber">[29](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_29)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_29"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-6"></span><span class="Preprc"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber">[30](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_30)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_30"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-6"></span><span class="Preprc">#</span><span class="Preprc">include <sstream></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber">[31](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_31)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_31"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-6"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber">[32](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_32)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_32"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-4"></span><span class="Comment">/**</span></span>
<span class="line"><span class="LineNumber">[33](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_33)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_33"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-4"></span> <span class="Comment">* This tutorial demonstrates simple sending of messages over the ROS system.</span></span>
<span class="line"><span class="LineNumber">[34](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_34)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_34"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-3"></span> <span class="Comment">*/</span></span>
<span class="line"><span class="LineNumber">[35](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_35)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_35"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-3"></span><span class="ResWord">int</span> <span class="ID">main</span>(<span class="ResWord">int</span> <span class="ID">argc</span>, <span class="ResWord">char</span> **<span class="ID">argv</span>)</span>
<span class="line"><span class="LineNumber">[36](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_36)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_36"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-3"></span>{</span>
<span class="line"><span class="LineNumber">[37](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_37)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_37"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-3"></span>  <span class="Comment">/**</span></span>
<span class="line"><span class="LineNumber">[38](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_38)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_38"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-3"></span> <span class="Comment">* The ros::init() function needs to see argc and argv so that it can perform</span></span>
<span class="line"><span class="LineNumber">[39](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_39)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_39"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-3"></span> <span class="Comment">* any ROS arguments and name remapping that were provided at the command line.</span></span>
<span class="line"><span class="LineNumber">[40](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_40)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_40"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-3"></span> <span class="Comment">* For programmatic remappings you can use a different version of init() which takes</span></span>
<span class="line"><span class="LineNumber">[41](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_41)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_41"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-3"></span> <span class="Comment">* remappings directly, but for most command-line programs, passing argc and argv is</span></span>
<span class="line"><span class="LineNumber">[42](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_42)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_42"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-3"></span> <span class="Comment">* the easiest way to do it.  The third argument to init() is the name of the node.</span></span>
<span class="line"><span class="LineNumber">[43](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_43)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_43"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-3"></span> <span class="Comment">*</span></span>
<span class="line"><span class="LineNumber">[44](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_44)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_44"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-3"></span> <span class="Comment">* You must call one of the versions of ros::init() before using any other</span></span>
<span class="line"><span class="LineNumber">[45](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_45)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_45"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-3"></span> <span class="Comment">* part of the ROS system.</span></span>
<span class="line"><span class="LineNumber">[46](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_46)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_46"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-3"></span> <span class="Comment">*/</span></span>
<span class="line"><span class="LineNumber">[47](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_47)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_47"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-3"></span>  <span class="ID">ros</span>::<span class="ID">init</span>(<span class="ID">argc</span>, <span class="ID">argv</span>, <span class="String">"</span><span class="String">talker</span><span class="String">"</span>);</span>
<span class="line"><span class="LineNumber">[48](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_48)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_48"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-3"></span></span>
<span class="line"><span class="LineNumber">[49](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_49)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_49"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-3"></span>  <span class="Comment">/**</span></span>
<span class="line"><span class="LineNumber">[50](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_50)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_50"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-3"></span> <span class="Comment">* NodeHandle is the main access point to communications with the ROS system.</span></span>
<span class="line"><span class="LineNumber">[51](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_51)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_51"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-3"></span> <span class="Comment">* The first NodeHandle constructed will fully initialize this node, and the last</span></span>
<span class="line"><span class="LineNumber">[52](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_52)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_52"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-3"></span> <span class="Comment">* NodeHandle destructed will close down the node.</span></span>
<span class="line"><span class="LineNumber">[53](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_53)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_53"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-3"></span> <span class="Comment">*/</span></span>
<span class="line"><span class="LineNumber">[54](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_54)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_54"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-2"></span>  <span class="ID">ros</span>::<span class="ID">NodeHandle</span> <span class="ID">n</span>;</span>
<span class="line"><span class="LineNumber">[55](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_55)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_55"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-2"></span></span>
<span class="line"><span class="LineNumber">[56](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_56)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_56"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-2"></span>  <span class="Comment">/**</span></span>
<span class="line"><span class="LineNumber">[57](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_57)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_57"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-2"></span> <span class="Comment">* The advertise() function is how you tell ROS that you want to</span></span>
<span class="line"><span class="LineNumber">[58](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_58)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_58"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-2"></span> <span class="Comment">* publish on a given topic name. This invokes a call to the ROS</span></span>
<span class="line"><span class="LineNumber">[59](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_59)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_59"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-2"></span> <span class="Comment">* master node, which keeps a registry of who is publishing and who</span></span>
<span class="line"><span class="LineNumber">[60](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_60)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_60"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-2"></span> <span class="Comment">* is subscribing. After this advertise() call is made, the master</span></span>
<span class="line"><span class="LineNumber">[61](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_61)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_61"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-2"></span> <span class="Comment">* node will notify anyone who is trying to subscribe to this topic name,</span></span>
<span class="line"><span class="LineNumber">[62](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_62)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_62"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-2"></span> <span class="Comment">* and they will in turn negotiate a peer-to-peer connection with this</span></span>
<span class="line"><span class="LineNumber">[63](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_63)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_63"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-2"></span> <span class="Comment">* node.  advertise() returns a Publisher object which allows you to</span></span>
<span class="line"><span class="LineNumber">[64](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_64)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_64"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-1"></span> <span class="Comment">* publish messages on that topic through a call to publish().  Once</span></span>
<span class="line"><span class="LineNumber">[65](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_65)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_65"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-1"></span> <span class="Comment">* all copies of the returned Publisher object are destroyed, the topic</span></span>
<span class="line"><span class="LineNumber">[66](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_66)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_66"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-1"></span> <span class="Comment">* will be automatically unadvertised.</span></span>
<span class="line"><span class="LineNumber">[67](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_67)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_67"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-1"></span> <span class="Comment">*</span></span>
<span class="line"><span class="LineNumber">[68](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_68)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_68"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-1"></span> <span class="Comment">* The second parameter to advertise() is the size of the message queue</span></span>
<span class="line"><span class="LineNumber">[69](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_69)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_69"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-1"></span> <span class="Comment">* used for publishing messages.  If messages are published more quickly</span></span>
<span class="line"><span class="LineNumber">[70](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_70)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_70"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-1"></span> <span class="Comment">* than we can send them, the number here specifies how many messages to</span></span>
<span class="line"><span class="LineNumber">[71](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_71)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_71"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-1"></span> <span class="Comment">* buffer up before throwing some away.</span></span>
<span class="line"><span class="LineNumber">[72](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_72)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_72"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-1"></span> <span class="Comment">*/</span></span>
<span class="line"><span class="LineNumber">[73](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_73)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_73"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-1"></span>  <span class="ID">ros</span>::<span class="ID">Publisher</span> <span class="ID">chatter_pub</span> = <span class="ID">n</span>.<span class="ID">advertise</span><<span class="ID">std_msgs</span>::<span class="ID">String</span>>(<span class="String">"</span><span class="String">chatter</span><span class="String">"</span>, <span class="Number">1000</span>);</span>
<span class="line"><span class="LineNumber">[74](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_74)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_74"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-1"></span></span>
<span class="line"><span class="LineNumber">[75](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_75)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_75"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-1"></span>  <span class="ID">ros</span>::<span class="ID">Rate</span> <span class="ID">loop_rate</span>(<span class="Number">10</span>);</span>
<span class="line"><span class="LineNumber">[76](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_76)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_76"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-1"></span></span>
<span class="line"><span class="LineNumber">[77](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_77)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_77"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-1"></span>  <span class="Comment">/**</span></span>
<span class="line"><span class="LineNumber">[78](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_78)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_78"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-1"></span> <span class="Comment">* A count of how many messages we have sent. This is used to create</span></span>
<span class="line"><span class="LineNumber">[79](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_79)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_79"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-1"></span> <span class="Comment">* a unique string for each message.</span></span>
<span class="line"><span class="LineNumber">[80](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_80)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_80"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-1"></span> <span class="Comment">*/</span></span>
<span class="line"><span class="LineNumber">[81](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_81)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_81"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55-1"></span>  <span class="ResWord">int</span> <span class="ID">count</span> = <span class="Number">0</span>;</span>
<span class="line"><span class="LineNumber">[82](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_82)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_82"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56-1"></span>  <span class="ResWord">while</span> (<span class="ID">ros</span>::<span class="ID">ok</span>())</span>
<span class="line"><span class="LineNumber">[83](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_83)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_83"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57-1"></span>  {</span>
<span class="line"><span class="LineNumber">[84](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_84)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_84"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58-1"></span>    <span class="Comment">/**</span></span>
<span class="line"><span class="LineNumber">[85](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_85)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_85"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-59-1"></span> <span class="Comment">* This is a message object. You stuff it with data, and then publish it.</span></span>
<span class="line"><span class="LineNumber">[86](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_86)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_86"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-60-1"></span> <span class="Comment">*/</span></span>
<span class="line"><span class="LineNumber">[87](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_87)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_87"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-61-1"></span>    <span class="ID">std_msgs</span>::<span class="ID">String</span> <span class="ID">msg</span>;</span>
<span class="line"><span class="LineNumber">[88](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_88)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_88"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-62-1"></span></span>
<span class="line"><span class="LineNumber">[89](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_89)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_89"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-63-1"></span>    <span class="ID">std</span>::<span class="ID">stringstream</span> <span class="ID">ss</span>;</span>
<span class="line"><span class="LineNumber">[90](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_90)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_90"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-64-1"></span>    <span class="ID">ss</span> << <span class="String">"</span><span class="String">hello world</span> <span class="String">"</span> << <span class="ID">count</span>;</span>
<span class="line"><span class="LineNumber">[91](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_91)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_91"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-65-1"></span>    <span class="ID">msg</span>.<span class="ID">data</span> = <span class="ID">ss</span>.<span class="ID">str</span>();</span>
<span class="line"><span class="LineNumber">[92](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_92)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_92"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-66-1"></span></span>
<span class="line"><span class="LineNumber">[93](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_93)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_93"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-67-1"></span>    <span class="ID">ROS_INFO</span>(<span class="String">"</span><span class="String">%s</span><span class="String">"</span>, <span class="ID">msg</span>.<span class="ID">data</span>.<span class="ID">c_str</span>());</span>
<span class="line"><span class="LineNumber">[94](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_94)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_94"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-68-1"></span></span>
<span class="line"><span class="LineNumber">[95](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_95)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_95"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-69-1"></span>    <span class="Comment">/**</span></span>
<span class="line"><span class="LineNumber">[96](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_96)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_96"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-70-1"></span> <span class="Comment">* The publish() function is how you send messages. The parameter</span></span>
<span class="line"><span class="LineNumber">[97](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_97)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_97"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-71-1"></span> <span class="Comment">* is the message object. The type of this object must agree with the type</span></span>
<span class="line"><span class="LineNumber">[98](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_98)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_98"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-72-1"></span> <span class="Comment">* given as a template parameter to the advertise<>() call, as was done</span></span>
<span class="line"><span class="LineNumber">[99](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_99)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_99"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-73-1"></span> <span class="Comment">* in the constructor above.</span></span>
<span class="line"><span class="LineNumber">[100](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_100)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_100"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-74-1"></span> <span class="Comment">*/</span></span>
<span class="line"><span class="LineNumber">[101](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_101)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_101"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-75-1"></span>    <span class="ID">chatter_pub</span>.<span class="ID">publish</span>(<span class="ID">msg</span>);</span>
<span class="line"><span class="LineNumber">[102](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_102)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_102"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-76-1"></span></span>
<span class="line"><span class="LineNumber">[103](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_103)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_103"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-77-1"></span>    <span class="ID">ros</span>::<span class="ID">spinOnce</span>();</span>
<span class="line"><span class="LineNumber">[104](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_104)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_104"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-78-1"></span></span>
<span class="line"><span class="LineNumber">[105](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_105)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_105"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-79-1"></span>    <span class="ID">loop_rate</span>.<span class="ID">sleep</span>();</span>
<span class="line"><span class="LineNumber">[106](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_106)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_106"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-80-1"></span>    ++<span class="ID">count</span>;</span>
<span class="line"><span class="LineNumber">[107](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_107)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_107"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-81-1"></span>  }</span>
<span class="line"><span class="LineNumber">[108](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_108)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_108"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-82-1"></span></span>
<span class="line"><span class="LineNumber">[109](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_109)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_109"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-83-1"></span></span>
<span class="line"><span class="LineNumber">[110](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_110)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_110"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-84-1"></span>  <span class="ResWord">return</span> <span class="Number">0</span>;</span>
<span class="line"><span class="LineNumber">[111](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_111)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-7875e5af8250b639212f51b1a24ec13990321f5b_111"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-85-1"></span>}</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-91"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-2"></span>

#### The Code Explained

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-2"></span>

Now, let's break the code down.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-2"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-4"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8c1080856928989e4b4a21f76a6dbdb47f49196f\', 27, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8c1080856928989e4b4a21f76a6dbdb47f49196f" lang="en"><span class="line"><span class="LineNumber">[27](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8c1080856928989e4b4a21f76a6dbdb47f49196f_27)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8c1080856928989e4b4a21f76a6dbdb47f49196f_27"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-12"></span><span class="Preprc">#</span><span class="Preprc">include "ros</span><span class="Preprc">/</span><span class="Preprc">ros.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber">[28](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8c1080856928989e4b4a21f76a6dbdb47f49196f_28)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8c1080856928989e4b4a21f76a6dbdb47f49196f_28"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-9"></span><span class="Preprc"></span></span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-6"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-2"></span><tt class="backtick">ros/ros.h</tt> is a convenience include that includes all the headers necessary to use the most common public pieces of the ROS system.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-2"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-3"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-dcabc2a2d315305bc1e9eb823364cbdade421375\', 28, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-dcabc2a2d315305bc1e9eb823364cbdade421375" lang="en"><span class="line"><span class="LineNumber">[28](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-dcabc2a2d315305bc1e9eb823364cbdade421375_28)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-dcabc2a2d315305bc1e9eb823364cbdade421375_28"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-15"></span><span class="Preprc">#</span><span class="Preprc">include "std_msgs</span><span class="Preprc">/</span><span class="Preprc">String.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber">[29](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-dcabc2a2d315305bc1e9eb823364cbdade421375_29)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-dcabc2a2d315305bc1e9eb823364cbdade421375_29"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-12"></span><span class="Preprc"></span></span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-8"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-2"></span>This includes the [std_msgs/String](http://docs.ros.org/api/std_msgs/html/msg/String.html) message, which resides in the [std_msgs](/std_msgs) package. This is a header generated automatically from the <tt class="backtick">String.msg</tt> file in that package. For more information on message definitions, see the [msg](/msg) page.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-2"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-3"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-bbd7c4e67305a8926e488e6a5fa5695747e525f9\', 47, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-bbd7c4e67305a8926e488e6a5fa5695747e525f9" lang="en"><span class="line"><span class="LineNumber">[47](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-bbd7c4e67305a8926e488e6a5fa5695747e525f9_47)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-bbd7c4e67305a8926e488e6a5fa5695747e525f9_47"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-18"></span>  <span class="ID">ros</span>::<span class="ID">init</span>(<span class="ID">argc</span>, <span class="ID">argv</span>, <span class="String">"</span><span class="String">talker</span><span class="String">"</span>);</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-10"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-2"></span>Initialize ROS. This allows ROS to do name remapping through the command line -- not important for now. This is also where we specify the name of our node. Node names must be unique in a running system.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-2"></span>

The name used here must be a [base name](/Names#Graph), ie. it cannot have a <tt class="backtick">/</tt> in it.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-2"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-2"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-1079aa1401a6c4cbfa4d833c391f1312fc5f3ba3\', 54, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-1079aa1401a6c4cbfa4d833c391f1312fc5f3ba3" lang="en"><span class="line"><span class="LineNumber">[54](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-1079aa1401a6c4cbfa4d833c391f1312fc5f3ba3_54)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-1079aa1401a6c4cbfa4d833c391f1312fc5f3ba3_54"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-21"></span>  <span class="ID">ros</span>::<span class="ID">NodeHandle</span> <span class="ID">n</span>;</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-12"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-3"></span>Create a handle to this process' node. The first <tt class="backtick">NodeHandle</tt> created will actually do the initialization of the node, and the last one destructed will cleanup any resources the node was using.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56-2"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-23"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-59-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-60-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-61-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-62-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-63-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-64-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-65-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-66-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-67-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-68-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-69-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-70-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-71-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-72-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-73-2"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-48c016747d035bfd32771b254802cfbd5feafe7d\', 73, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-48c016747d035bfd32771b254802cfbd5feafe7d" lang="en"><span class="line"><span class="LineNumber">[73](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-48c016747d035bfd32771b254802cfbd5feafe7d_73)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-48c016747d035bfd32771b254802cfbd5feafe7d_73"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-24"></span>  <span class="ID">ros</span>::<span class="ID">Publisher</span> <span class="ID">chatter_pub</span> = <span class="ID">n</span>.<span class="ID">advertise</span><<span class="ID">std_msgs</span>::<span class="ID">String</span>>(<span class="String">"</span><span class="String">chatter</span><span class="String">"</span>, <span class="Number">1000</span>);</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-14"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57-3"></span>Tell the master that we are going to be publishing a message of type [std_msgs/String](http://docs.ros.org/api/std_msgs/html/msg/String.html) on the topic <tt class="backtick">chatter</tt>. This lets the master tell any nodes listening on <tt class="backtick">chatter</tt> that we are going to publish data on that topic. The second argument is the size of our publishing queue. In this case if we are publishing too quickly it will buffer up a maximum of 1000 messages before beginning to throw away old ones.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-59-3"></span>

<tt class="backtick">NodeHandle::advertise()</tt> returns a <tt class="backtick">ros::Publisher</tt> object, which serves two purposes: 1) it contains a <tt class="backtick">publish()</tt> method that lets you publish messages onto the topic it was created with, and 2) when it goes out of scope, it will automatically unadvertise.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-60-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-61-3"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-59-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-60-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-61-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-62-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-63-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-64-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-65-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-66-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-67-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-68-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-69-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-70-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-71-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-72-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-73-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-74-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-75-2"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-436a142c5bd0d3fab1d54147bea31450c8941b19\', 75, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-436a142c5bd0d3fab1d54147bea31450c8941b19" lang="en"><span class="line"><span class="LineNumber">[75](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-436a142c5bd0d3fab1d54147bea31450c8941b19_75)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-436a142c5bd0d3fab1d54147bea31450c8941b19_75"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-27"></span>  <span class="ID">ros</span>::<span class="ID">Rate</span> <span class="ID">loop_rate</span>(<span class="Number">10</span>);</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-16"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-62-4"></span>A <tt class="backtick">ros::Rate</tt> object allows you to specify a frequency that you would like to loop at. It will keep track of how long it has been since the last call to <tt class="backtick">Rate::sleep()</tt>, and sleep for the correct amount of time.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-63-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-64-4"></span>

In this case we tell it we want to run at 10hz.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-65-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-66-4"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-28"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-29"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-59-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-60-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-61-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-62-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-63-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-64-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-65-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-66-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-67-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-68-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-69-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-70-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-71-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-72-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-73-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-74-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-75-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-76-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-77-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-78-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-79-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-80-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-81-2"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-0dd0ef99791fdf3e69587d021e2663b3d8181408\', 81, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-0dd0ef99791fdf3e69587d021e2663b3d8181408" lang="en"><span class="line"><span class="LineNumber">[81](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-0dd0ef99791fdf3e69587d021e2663b3d8181408_81)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-0dd0ef99791fdf3e69587d021e2663b3d8181408_81"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-30"></span>  <span class="ResWord">int</span> <span class="ID">count</span> = <span class="Number">0</span>;</span>
<span class="line"><span class="LineNumber">[82](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-0dd0ef99791fdf3e69587d021e2663b3d8181408_82)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-0dd0ef99791fdf3e69587d021e2663b3d8181408_82"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-23"></span>  <span class="ResWord">while</span> (<span class="ID">ros</span>::<span class="ID">ok</span>())</span>
<span class="line"><span class="LineNumber">[83](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-0dd0ef99791fdf3e69587d021e2663b3d8181408_83)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-0dd0ef99791fdf3e69587d021e2663b3d8181408_83"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-21"></span>  {</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-11"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-67-5"></span>By default roscpp will install a SIGINT handler which provides Ctrl-C handling which will cause <tt class="backtick">ros::ok()</tt> to return false if that happens.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-68-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-69-5"></span>

<tt class="backtick">ros::ok()</tt> will return false if:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-70-5"></span>

*   a SIGINT is received (Ctrl-C)<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-71-5"></span>
*   we have been kicked off the network by another node with the same name<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-72-5"></span>
*   <tt class="backtick">ros::shutdown()</tt> has been called by another part of the application.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-73-5"></span>

*   all ros::[NodeHandles](/NodeHandles) have been destroyed<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-74-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-75-4"></span>

Once <tt class="backtick">ros::ok()</tt> returns false, all ROS calls will fail.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-76-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-77-3"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-31"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-32"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-23"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-59-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-60-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-61-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-62-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-63-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-64-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-65-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-66-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-67-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-68-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-69-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-70-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-71-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-72-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-73-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-74-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-75-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-76-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-77-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-78-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-79-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-80-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-81-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-82-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-83-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-84-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-85-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-86-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-87-1"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8456e0bb7d9b8e4831fbf057e53685ec7270519e\', 87, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8456e0bb7d9b8e4831fbf057e53685ec7270519e" lang="en"><span class="line"><span class="LineNumber">[87](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8456e0bb7d9b8e4831fbf057e53685ec7270519e_87)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8456e0bb7d9b8e4831fbf057e53685ec7270519e_87"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-33"></span>    <span class="ID">std_msgs</span>::<span class="ID">String</span> <span class="ID">msg</span>;</span>
<span class="line"><span class="LineNumber">[88](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8456e0bb7d9b8e4831fbf057e53685ec7270519e_88)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8456e0bb7d9b8e4831fbf057e53685ec7270519e_88"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-26"></span></span>
<span class="line"><span class="LineNumber">[89](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8456e0bb7d9b8e4831fbf057e53685ec7270519e_89)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8456e0bb7d9b8e4831fbf057e53685ec7270519e_89"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-24"></span>    <span class="ID">std</span>::<span class="ID">stringstream</span> <span class="ID">ss</span>;</span>
<span class="line"><span class="LineNumber">[90](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8456e0bb7d9b8e4831fbf057e53685ec7270519e_90)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8456e0bb7d9b8e4831fbf057e53685ec7270519e_90"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-23"></span>    <span class="ID">ss</span> << <span class="String">"</span><span class="String">hello world</span> <span class="String">"</span> << <span class="ID">count</span>;</span>
<span class="line"><span class="LineNumber">[91](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8456e0bb7d9b8e4831fbf057e53685ec7270519e_91)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-8456e0bb7d9b8e4831fbf057e53685ec7270519e_91"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-23"></span>    <span class="ID">msg</span>.<span class="ID">data</span> = <span class="ID">ss</span>.<span class="ID">str</span>();</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-12"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-78-4"></span>We broadcast a message on ROS using a message-adapted class, generally generated from a [msg file](/msg). More complicated datatypes are possible, but for now we're going to use the standard <tt class="backtick">String</tt> message, which has one member: "data".<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-79-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-80-4"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-34"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-27"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-35"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-28"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-59-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-60-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-61-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-62-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-63-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-64-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-65-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-66-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-67-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-68-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-69-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-70-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-71-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-72-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-73-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-74-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-75-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-76-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-77-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-78-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-79-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-80-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-81-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-82-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-83-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-84-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-85-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-86-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-87-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-88-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-89-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-90-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-91-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-92"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-93"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-94"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-95"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-96"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-97"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-98"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-99"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-100"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-101"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-aa202e8d4afb2f5fef5365e963060fa589e97965\', 101, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-aa202e8d4afb2f5fef5365e963060fa589e97965" lang="en"><span class="line"><span class="LineNumber">[101](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-aa202e8d4afb2f5fef5365e963060fa589e97965_101)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-aa202e8d4afb2f5fef5365e963060fa589e97965_101"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-36"></span>    <span class="ID">chatter_pub</span>.<span class="ID">publish</span>(<span class="ID">msg</span>);</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-22"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-81-5"></span>Now we actually broadcast the message to anyone who is connected.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-82-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-83-4"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-37"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-29"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-27"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-38"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-30"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-28"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-27"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-27"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-23"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-59-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-60-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-61-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-62-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-63-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-64-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-65-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-66-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-67-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-68-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-69-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-70-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-71-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-72-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-73-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-74-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-75-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-76-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-77-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-78-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-79-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-80-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-81-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-82-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-83-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-84-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-85-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-86-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-87-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-88-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-89-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-90-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-91-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-92-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-93-1"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-ff7616a808b0d827bbb7a305f4b0a9b18a7d4309\', 93, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-ff7616a808b0d827bbb7a305f4b0a9b18a7d4309" lang="en"><span class="line"><span class="LineNumber">[93](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-ff7616a808b0d827bbb7a305f4b0a9b18a7d4309_93)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-ff7616a808b0d827bbb7a305f4b0a9b18a7d4309_93"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-39"></span>    <span class="ID">ROS_INFO</span>(<span class="String">"</span><span class="String">%s</span><span class="String">"</span>, <span class="ID">msg</span>.<span class="ID">data</span>.<span class="ID">c_str</span>());</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-24"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-84-5"></span><tt class="backtick">ROS_INFO</tt> and friends are our replacement for <tt class="backtick">printf</tt>/<tt class="backtick">cout</tt>. See the [rosconsole documentation](/rosconsole) for more information.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-85-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-86-4"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-40"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-31"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-29"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-28"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-28"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-41"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-32"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-30"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-29"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-29"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-59-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-60-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-61-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-62-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-63-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-64-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-65-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-66-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-67-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-68-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-69-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-70-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-71-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-72-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-73-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-74-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-75-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-76-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-77-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-78-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-79-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-80-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-81-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-82-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-83-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-84-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-85-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-86-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-87-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-88-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-89-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-90-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-91-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-92-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-93-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-94-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-95-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-96-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-97-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-98-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-99-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-100-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-101-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-102"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-103"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-77f59f9b7961ee481f7596923b938df8c19148f6\', 103, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-77f59f9b7961ee481f7596923b938df8c19148f6" lang="en"><span class="line"><span class="LineNumber">[103](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-77f59f9b7961ee481f7596923b938df8c19148f6_103)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-77f59f9b7961ee481f7596923b938df8c19148f6_103"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-42"></span>    <span class="ID">ros</span>::<span class="ID">spinOnce</span>();</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-26"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-87-5"></span>Calling <tt class="backtick">ros::spinOnce()</tt> here is not necessary for this simple program, because we are not receiving any callbacks. However, if you were to add a subscription into this application, and did not have <tt class="backtick">ros::spinOnce()</tt> here, your callbacks would never get called. So, add it for good measure.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-88-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-89-4"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-43"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-33"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-31"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-30"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-30"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-44"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-34"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-32"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-31"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-31"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-27"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-59-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-60-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-61-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-62-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-63-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-64-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-65-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-66-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-67-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-68-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-69-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-70-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-71-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-72-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-73-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-74-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-75-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-76-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-77-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-78-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-79-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-80-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-81-8"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-82-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-83-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-84-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-85-7"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-86-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-87-6"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-88-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-89-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-90-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-91-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-92-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-93-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-94-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-95-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-96-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-97-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-98-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-99-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-100-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-101-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-102-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-103-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-104"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-105"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-abbdd3c55b5ae72f624a06429120470b29dffbf7\', 105, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-abbdd3c55b5ae72f624a06429120470b29dffbf7" lang="en"><span class="line"><span class="LineNumber">[105](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-abbdd3c55b5ae72f624a06429120470b29dffbf7_105)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-abbdd3c55b5ae72f624a06429120470b29dffbf7_105"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-45"></span>    <span class="ID">loop_rate</span>.<span class="ID">sleep</span>();</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-28"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-90-5"></span>Now we use the <tt class="backtick">ros::Rate</tt> object to sleep for the time remaining to let us hit our 10hz publish rate.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-91-5"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-92-4"></span>

Here's the condensed version of what's going on:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-93-4"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-94-3"></span>

*   Initialize the ROS system<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-95-3"></span>
*   Advertise that we are going to be publishing [std_msgs/String](http://docs.ros.org/api/std_msgs/html/msg/String.html) messages on the <tt class="backtick">chatter</tt> topic to the master<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-96-3"></span>

*   Loop while publishing messages to <tt class="backtick">chatter</tt> 10 times a second<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-97-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-98-3"></span>

Now we need to write a node to receive the messsages.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-99-3"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-100-3"></span>

### Writing the Subscriber Node

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-101-3"></span>

#### The Code

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-102-2"></span>

Create the <tt class="backtick">src/listener.cpp</tt> file within the <tt class="backtick">beginner_tutorials</tt> package and paste the following inside it:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-103-2"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-104-1"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-46"></span>_[https://raw.github.com/ros/ros_tutorials/indigo-devel/roscpp_tutorials/listener/listener.cpp](https://raw.github.com/ros/ros_tutorials/indigo-devel/roscpp_tutorials/listener/listener.cpp)_<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-35"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-33"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-32"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-32"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-29"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-59-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-60-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-61-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-62-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-63-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-47"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-36"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-34"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-33"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-33"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-30"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-15"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69\', 28, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69" lang="en"><span class="line"><span class="LineNumber">[28](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_28)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_28"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-48"></span><span class="Preprc">#</span><span class="Preprc">include "ros</span><span class="Preprc">/</span><span class="Preprc">ros.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber">[29](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_29)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_29"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-37"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include "std_msgs</span><span class="Preprc">/</span><span class="Preprc">String.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber">[30](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_30)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_30"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-35"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber">[31](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_31)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_31"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-34"></span><span class="Comment">/**</span></span>
<span class="line"><span class="LineNumber">[32](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_32)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_32"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-34"></span> <span class="Comment">* This tutorial demonstrates simple receipt of messages over the ROS system.</span></span>
<span class="line"><span class="LineNumber">[33](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_33)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_33"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-31"></span> <span class="Comment">*/</span></span>
<span class="line"><span class="LineNumber">[34](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_34)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_34"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-21"></span><span class="ResWord">void</span> <span class="ID">chatterCallback</span>(<span class="ResWord">const</span> <span class="ID">std_msgs</span>::<span class="ID">String</span>::<span class="ID">ConstPtr</span>& <span class="ID">msg</span>)</span>
<span class="line"><span class="LineNumber">[35](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_35)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_35"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-20"></span>{</span>
<span class="line"><span class="LineNumber">[36](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_36)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_36"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-19"></span>  <span class="ID">ROS_INFO</span>(<span class="String">"</span><span class="String">I heard: [%s]</span><span class="String">"</span>, <span class="ID">msg</span>-><span class="ID">data</span>.<span class="ID">c_str</span>());</span>
<span class="line"><span class="LineNumber">[37](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_37)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_37"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-19"></span>}</span>
<span class="line"><span class="LineNumber">[38](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_38)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_38"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-18"></span></span>
<span class="line"><span class="LineNumber">[39](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_39)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_39"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-18"></span><span class="ResWord">int</span> <span class="ID">main</span>(<span class="ResWord">int</span> <span class="ID">argc</span>, <span class="ResWord">char</span> **<span class="ID">argv</span>)</span>
<span class="line"><span class="LineNumber">[40](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_40)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_40"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-18"></span>{</span>
<span class="line"><span class="LineNumber">[41](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_41)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_41"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-18"></span>  <span class="Comment">/**</span></span>
<span class="line"><span class="LineNumber">[42](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_42)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_42"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-18"></span> <span class="Comment">* The ros::init() function needs to see argc and argv so that it can perform</span></span>
<span class="line"><span class="LineNumber">[43](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_43)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_43"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-18"></span> <span class="Comment">* any ROS arguments and name remapping that were provided at the command line.</span></span>
<span class="line"><span class="LineNumber">[44](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_44)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_44"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-18"></span> <span class="Comment">* For programmatic remappings you can use a different version of init() which takes</span></span>
<span class="line"><span class="LineNumber">[45](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_45)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_45"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-18"></span> <span class="Comment">* remappings directly, but for most command-line programs, passing argc and argv is</span></span>
<span class="line"><span class="LineNumber">[46](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_46)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_46"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-18"></span> <span class="Comment">* the easiest way to do it.  The third argument to init() is the name of the node.</span></span>
<span class="line"><span class="LineNumber">[47](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_47)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_47"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-18"></span> <span class="Comment">*</span></span>
<span class="line"><span class="LineNumber">[48](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_48)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_48"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-18"></span> <span class="Comment">* You must call one of the versions of ros::init() before using any other</span></span>
<span class="line"><span class="LineNumber">[49](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_49)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_49"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-18"></span> <span class="Comment">* part of the ROS system.</span></span>
<span class="line"><span class="LineNumber">[50](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_50)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_50"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-18"></span> <span class="Comment">*/</span></span>
<span class="line"><span class="LineNumber">[51](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_51)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_51"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-18"></span>  <span class="ID">ros</span>::<span class="ID">init</span>(<span class="ID">argc</span>, <span class="ID">argv</span>, <span class="String">"</span><span class="String">listener</span><span class="String">"</span>);</span>
<span class="line"><span class="LineNumber">[52](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_52)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_52"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-18"></span></span>
<span class="line"><span class="LineNumber">[53](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_53)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_53"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-18"></span>  <span class="Comment">/**</span></span>
<span class="line"><span class="LineNumber">[54](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_54)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_54"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-18"></span> <span class="Comment">* NodeHandle is the main access point to communications with the ROS system.</span></span>
<span class="line"><span class="LineNumber">[55](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_55)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_55"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-16"></span> <span class="Comment">* The first NodeHandle constructed will fully initialize this node, and the last</span></span>
<span class="line"><span class="LineNumber">[56](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_56)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_56"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-14"></span> <span class="Comment">* NodeHandle destructed will close down the node.</span></span>
<span class="line"><span class="LineNumber">[57](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_57)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_57"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-14"></span> <span class="Comment">*/</span></span>
<span class="line"><span class="LineNumber">[58](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_58)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_58"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-14"></span>  <span class="ID">ros</span>::<span class="ID">NodeHandle</span> <span class="ID">n</span>;</span>
<span class="line"><span class="LineNumber">[59](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_59)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_59"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-14"></span></span>
<span class="line"><span class="LineNumber">[60](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_60)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_60"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-14"></span>  <span class="Comment">/**</span></span>
<span class="line"><span class="LineNumber">[61](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_61)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_61"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-14"></span> <span class="Comment">* The subscribe() call is how you tell ROS that you want to receive messages</span></span>
<span class="line"><span class="LineNumber">[62](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_62)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_62"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-14"></span> <span class="Comment">* on a given topic.  This invokes a call to the ROS</span></span>
<span class="line"><span class="LineNumber">[63](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_63)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_63"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-14"></span> <span class="Comment">* master node, which keeps a registry of who is publishing and who</span></span>
<span class="line"><span class="LineNumber">[64](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_64)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_64"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-14"></span> <span class="Comment">* is subscribing.  Messages are passed to a callback function, here</span></span>
<span class="line"><span class="LineNumber">[65](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_65)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_65"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-14"></span> <span class="Comment">* called chatterCallback.  subscribe() returns a Subscriber object that you</span></span>
<span class="line"><span class="LineNumber">[66](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_66)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_66"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-14"></span> <span class="Comment">* must hold on to until you want to unsubscribe.  When all copies of the Subscriber</span></span>
<span class="line"><span class="LineNumber">[67](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_67)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_67"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-14"></span> <span class="Comment">* object go out of scope, this callback will automatically be unsubscribed from</span></span>
<span class="line"><span class="LineNumber">[68](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_68)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_68"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-14"></span> <span class="Comment">* this topic.</span></span>
<span class="line"><span class="LineNumber">[69](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_69)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_69"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-14"></span> <span class="Comment">*</span></span>
<span class="line"><span class="LineNumber">[70](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_70)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_70"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-14"></span> <span class="Comment">* The second parameter to the subscribe() function is the size of the message</span></span>
<span class="line"><span class="LineNumber">[71](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_71)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_71"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-14"></span> <span class="Comment">* queue.  If messages are arriving faster than they are being processed, this</span></span>
<span class="line"><span class="LineNumber">[72](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_72)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_72"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-14"></span> <span class="Comment">* is the number of messages that will be buffered up before beginning to throw</span></span>
<span class="line"><span class="LineNumber">[73](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_73)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_73"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-14"></span> <span class="Comment">* away the oldest ones.</span></span>
<span class="line"><span class="LineNumber">[74](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_74)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_74"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-14"></span> <span class="Comment">*/</span></span>
<span class="line"><span class="LineNumber">[75](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_75)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_75"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-13"></span>  <span class="ID">ros</span>::<span class="ID">Subscriber</span> <span class="ID">sub</span> = <span class="ID">n</span>.<span class="ID">subscribe</span>(<span class="String">"</span><span class="String">chatter</span><span class="String">"</span>, <span class="Number">1000</span>, <span class="ID">chatterCallback</span>);</span>
<span class="line"><span class="LineNumber">[76](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_76)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_76"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-13"></span></span>
<span class="line"><span class="LineNumber">[77](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_77)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_77"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-13"></span>  <span class="Comment">/**</span></span>
<span class="line"><span class="LineNumber">[78](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_78)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_78"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-13"></span> <span class="Comment">* ros::spin() will enter a loop, pumping callbacks.  With this version, all</span></span>
<span class="line"><span class="LineNumber">[79](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_79)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_79"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-13"></span> <span class="Comment">* callbacks will be called from within this thread (the main one).  ros::spin()</span></span>
<span class="line"><span class="LineNumber">[80](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_80)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_80"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-13"></span> <span class="Comment">* will exit when Ctrl-C is pressed, or the node is shutdown by the master.</span></span>
<span class="line"><span class="LineNumber">[81](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_81)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_81"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-13"></span> <span class="Comment">*/</span></span>
<span class="line"><span class="LineNumber">[82](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_82)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_82"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55-12"></span>  <span class="ID">ros</span>::<span class="ID">spin</span>();</span>
<span class="line"><span class="LineNumber">[83](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_83)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_83"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56-12"></span></span>
<span class="line"><span class="LineNumber">[84](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_84)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_84"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57-12"></span>  <span class="ResWord">return</span> <span class="Number">0</span>;</span>
<span class="line"><span class="LineNumber">[85](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_85)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-b00794bcdcacff4e742e844261078a50000d0a69_85"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58-12"></span>}</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-64-11"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-105-1"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-106"></span>

#### The Code Explained

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-107"></span>

Now, let's break it down piece by piece, ignoring some pieces that have already been explained above.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-108"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-109"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-49"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-38"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-36"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-35"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-35"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-32"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-50"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-39"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-37"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-36"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-36"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-33"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-23"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-15"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-6d9609d1db3a7bdca0302c1203d82078afb15323\', 34, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-6d9609d1db3a7bdca0302c1203d82078afb15323" lang="en"><span class="line"><span class="LineNumber">[34](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-6d9609d1db3a7bdca0302c1203d82078afb15323_34)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-6d9609d1db3a7bdca0302c1203d82078afb15323_34"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-51"></span><span class="ResWord">void</span> <span class="ID">chatterCallback</span>(<span class="ResWord">const</span> <span class="ID">std_msgs</span>::<span class="ID">String</span>::<span class="ID">ConstPtr</span>& <span class="ID">msg</span>)</span>
<span class="line"><span class="LineNumber">[35](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-6d9609d1db3a7bdca0302c1203d82078afb15323_35)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-6d9609d1db3a7bdca0302c1203d82078afb15323_35"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-40"></span>{</span>
<span class="line"><span class="LineNumber">[36](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-6d9609d1db3a7bdca0302c1203d82078afb15323_36)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-6d9609d1db3a7bdca0302c1203d82078afb15323_36"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-38"></span>  <span class="ID">ROS_INFO</span>(<span class="String">"</span><span class="String">I heard: [%s]</span><span class="String">"</span>, <span class="ID">msg</span>-><span class="ID">data</span>.<span class="ID">c_str</span>());</span>
<span class="line"><span class="LineNumber">[37](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-6d9609d1db3a7bdca0302c1203d82078afb15323_37)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-6d9609d1db3a7bdca0302c1203d82078afb15323_37"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-37"></span>}</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-21"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-110"></span>This is the callback function that will get called when a new message has arrived on the <tt class="backtick">chatter</tt> topic. The message is passed in a [boost shared_ptr](http://www.boost.org/doc/libs/1_37_0/libs/smart_ptr/shared_ptr.htm), which means you can store it off if you want, without worrying about it getting deleted underneath you, and without copying the underlying data.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-111"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-112"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-52"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-41"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-39"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-38"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-37"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-53"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-42"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-40"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-39"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-38"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-34"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-23"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-59-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-60-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-61-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-62-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-63-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-64-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-65-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-66-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-67-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-68-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-69-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-70-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-71-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-72-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-73-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-74-10"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-75-10"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-5796660589beb27dca39a7b53df11813783e220d\', 75, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-5796660589beb27dca39a7b53df11813783e220d" lang="en"><span class="line"><span class="LineNumber">[75](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-5796660589beb27dca39a7b53df11813783e220d_75)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-5796660589beb27dca39a7b53df11813783e220d_75"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-54"></span>  <span class="ID">ros</span>::<span class="ID">Subscriber</span> <span class="ID">sub</span> = <span class="ID">n</span>.<span class="ID">subscribe</span>(<span class="String">"</span><span class="String">chatter</span><span class="String">"</span>, <span class="Number">1000</span>, <span class="ID">chatterCallback</span>);</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-35"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-113"></span>Subscribe to the <tt class="backtick">chatter</tt> topic with the master. ROS will call the <tt class="backtick">chatterCallback()</tt> function whenever a new message arrives. The 2nd argument is the queue size, in case we are not able to process messages fast enough. In this case, if the queue reaches 1000 messages, we will start throwing away old messages as new ones arrive.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-114"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-115"></span>

<tt class="backtick">NodeHandle::subscribe()</tt> returns a <tt class="backtick">ros::Subscriber</tt> object, that you must hold on to until you want to unsubscribe. When the Subscriber object is destructed, it will automatically unsubscribe from the <tt class="backtick">chatter</tt> topic.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-116"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-117"></span>

There are versions of the <tt class="backtick">NodeHandle::subscribe()</tt> function which allow you to specify a class member function, or even anything callable by a Boost.Function object. The [roscpp overview](/roscpp/Overview) contains more information.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-118"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-119"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-55"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-43"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-41"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-40"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-39"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-56"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-44"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-42"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-41"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-40"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-36"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-23"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-15"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-55-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-56-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-57-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-58-14"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-59-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-60-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-61-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-62-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-63-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-64-13"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-65-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-66-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-67-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-68-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-69-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-70-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-71-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-72-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-73-12"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-74-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-75-11"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-76-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-77-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-78-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-79-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-80-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-81-9"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-82-8"></span>

<div class="highlight cpp">

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-6424988503448f0a5323c4531325345a7f643fe3\', 82, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-6424988503448f0a5323c4531325345a7f643fe3" lang="en"><span class="line"><span class="LineNumber">[82](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-6424988503448f0a5323c4531325345a7f643fe3_82)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-6424988503448f0a5323c4531325345a7f643fe3_82"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-57"></span>  <span class="ID">ros</span>::<span class="ID">spin</span>();</span>
</pre>

</div>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-37"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-120"></span><tt class="backtick">ros::spin()</tt> enters a loop, calling message callbacks as fast as possible. Don't worry though, if there's nothing for it to do it won't use much CPU. <tt class="backtick">ros::spin()</tt> will exit once <tt class="backtick">ros::ok()</tt> returns false, which means <tt class="backtick">ros::shutdown()</tt> has been called, either by the default Ctrl-C handler, the master telling us to shutdown, or it being called manually.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-121"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-122"></span>

There are other ways of pumping callbacks, but we won't worry about those here. The [roscpp_tutorials](/roscpp_tutorials) package has some demo applications which demonstrate this. The [roscpp overview](/roscpp/Overview) also contains more information.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-123"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-124"></span>

Again, here's a condensed version of what's going on:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-125"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-126"></span>

*   Initialize the ROS system<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-127"></span>
*   Subscribe to the <tt class="backtick">chatter</tt> topic<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-128"></span>

*   Spin, waiting for messages to arrive<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-129"></span>
*   When a message arrives, the <tt class="backtick">chatterCallback()</tt> function is called<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-130"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-131"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-132"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-133"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-134"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-135"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-136"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-137"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-138"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-139"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-140"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-141"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-142"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-143"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-144"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-145"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-146"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-147"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-148"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-149"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-150"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-151"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-152"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-153"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-154"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-155"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-156"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-157"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-158"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-159"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-160"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-161"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-162"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-163"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-164"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-165"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-166"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-167"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-168"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-169"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-170"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-171"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-172"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-173"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-174"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-175"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-176"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-177"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-178"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-179"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-180"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-181"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-182"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-183"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-184"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-185"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-186"></span>

<div class="buildsystem rosbuild"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-58"></span>

### Building your nodes

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-45"></span>

[roscreate-pkg](/roscreate) will create a default Makefile and CMakeLists.txt for your package.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-43"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-42"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-41"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-38"></span>

<pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-59"></span>$ rosed beginner_tutorials CMakeLists.txt </pre>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-25"></span>

It should look something like this:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-23"></span>

*   <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-17"></span>

    <pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-60"></span>cmake_minimum_required(VERSION 2.4.6)
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-46"></span>include($ENV{ROS_ROOT}/core/rosbuild/rosbuild.cmake)
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-44"></span>
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-43"></span># Set the build type.  Options are:
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-42"></span>#  Coverage       : w/ debug symbols, w/o optimization, w/ code-coverage
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-39"></span>#  Debug          : w/ debug symbols, w/o optimization
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-27"></span>#  Release        : w/o debug symbols, w/ optimization
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-26"></span>#  RelWithDebInfo : w/ debug symbols, w/ optimization
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-25"></span>#  MinSizeRel     : w/o debug symbols, w/ optimization, stripped binaries
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-24"></span>#set(ROS_BUILD_TYPE RelWithDebInfo)
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-23"></span>
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-23"></span>rosbuild_init()
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-23"></span>
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-23"></span>#set the default path for built executables to the "bin" directory
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-23"></span>set(EXECUTABLE_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/bin)
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-23"></span>#set the default path for built libraries to the "lib" directory
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-23"></span>set(LIBRARY_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/lib)
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-23"></span>
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-23"></span>#uncomment if you have defined messages
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-23"></span>#rosbuild_genmsg()
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-23"></span>#uncomment if you have defined services
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-23"></span>#rosbuild_gensrv()
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-23"></span>
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-23"></span>#common commands for building c++ executables and libraries
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-23"></span>#rosbuild_add_library(${PROJECT_NAME} src/example.cpp)
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-23"></span>#target_link_libraries(${PROJECT_NAME} another_library)
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-23"></span>#rosbuild_add_boost_directories()
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-21"></span>#rosbuild_link_boost(${PROJECT_NAME} thread)
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-19"></span>#rosbuild_add_executable(example examples/example.cpp)
    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-19"></span>#target_link_libraries(example ${PROJECT_NAME})</pre>

    <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-17"></span>

Adding the following at the bottom:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-17"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-17"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-47-17"></span>

<pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-61"></span>rosbuild_add_executable(talker src/talker.cpp)
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-47"></span>rosbuild_add_executable(listener src/listener.cpp)</pre>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-48-16"></span>

This will create two executables, <tt class="backtick">talker</tt> and <tt class="backtick">listener</tt>, which by default will go into the "bin" directory.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-49-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-50-16"></span>

For more information on using CMake with ROS, see [CMakeLists](/CMakeLists) <span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-51-16"></span>Now run make:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-52-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-53-16"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-54-16"></span>

<pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-62"></span>$ make</pre>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-187"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-188"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-189"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-190"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-191"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-192"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-193"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-194"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-195"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-196"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-197"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-198"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-199"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-200"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-201"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-202"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-203"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-204"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-205"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-206"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-207"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-208"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-209"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-210"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-211"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-212"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-213"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-214"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-215"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-216"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-217"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-218"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-219"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-220"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-221"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-222"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-223"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-224"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-225"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-226"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-227"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-228"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-229"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-230"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-231"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-232"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-233"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-234"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-235"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-236"></span>

<div class="buildsystem catkin"><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-63"></span>

### Building your nodes

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-48"></span>

You used [catkin_create_pkg](/catkin/commands/catkin_create_pkg) in a previous tutorial which created a [package.xml](/catkin/package_manifest) and a [CMakeLists.txt](/catkin/CMakeLists.txt) file for you.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-45"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-44"></span>

The generated [CMakeLists.txt](/catkin/CMakeLists.txt) should look like this (with modifications from the [Creating Msgs and Srvs](/ROS/Tutorials/CreatingMsgAndSrv) tutorial and unused comments and examples removed):<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-43"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-40"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-64"></span>_[https://raw.github.com/ros/catkin_tutorials/master/create_package_modified/catkin_ws/src/beginner_tutorials/CMakeLists.txt](https://raw.github.com/ros/catkin_tutorials/master/create_package_modified/catkin_ws/src/beginner_tutorials/CMakeLists.txt)_<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-49"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-46"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-45"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-44"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-41"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-28"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-27"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-24"></span>

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938\', 1, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938" lang="en"><span class="line"><span class="LineNumber">[1](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_1)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_1"></span>cmake_minimum_required(VERSION 2.8.3)</span>
<span class="line"><span class="LineNumber">[2](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_2)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_2"></span>project(beginner_tutorials)</span>
<span class="line"><span class="LineNumber">[3](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_3)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_3"></span></span>
<span class="line"><span class="LineNumber">[4](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_4)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_4"></span>## Find catkin and any catkin packages</span>
<span class="line"><span class="LineNumber">[5](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_5)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_5"></span>find_package(catkin REQUIRED COMPONENTS roscpp rospy std_msgs genmsg)</span>
<span class="line"><span class="LineNumber">[6](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_6)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_6"></span></span>
<span class="line"><span class="LineNumber">[7](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_7)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_7"></span>## Declare ROS messages and services</span>
<span class="line"><span class="LineNumber">[8](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_8)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_8"></span>add_message_files(DIRECTORY msg FILES Num.msg)</span>
<span class="line"><span class="LineNumber">[9](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_9)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_9"></span>add_service_files(DIRECTORY srv FILES AddTwoInts.srv)</span>
<span class="line"><span class="LineNumber">[10](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_10)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_10"></span></span>
<span class="line"><span class="LineNumber">[11](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_11)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_11"></span>## Generate added messages and services</span>
<span class="line"><span class="LineNumber">[12](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_12)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_12"></span>generate_messages(DEPENDENCIES std_msgs)</span>
<span class="line"><span class="LineNumber">[13](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_13)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_13"></span></span>
<span class="line"><span class="LineNumber">[14](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_14)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_14"></span>## Declare a catkin package</span>
<span class="line"><span class="LineNumber">[15](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_15)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-613be11e3a734306735eeef98b24f783cdadf938_15"></span>catkin_package()</span>
</pre>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-24"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-29"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-28"></span>

Don't worry about modifying the commented (#) examples, simply add these few lines to the bottom of your [CMakeLists.txt](/catkin/CMakeLists.txt):<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-27"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-26"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-25"></span>

<pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-65"></span>include_directories(include ${catkin_INCLUDE_DIRS})
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-50"></span>
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-47"></span>add_executable(talker src/talker.cpp)
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-46"></span>target_link_libraries(talker ${catkin_LIBRARIES})
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-45"></span>add_dependencies(talker beginner_tutorials_generate_messages_cpp)
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-42"></span>
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-30"></span>add_executable(listener src/listener.cpp)
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-29"></span>target_link_libraries(listener ${catkin_LIBRARIES})
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-28"></span>add_dependencies(listener beginner_tutorials_generate_messages_cpp)</pre>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-25"></span>

Your resulting [CMakeLists.txt](/catkin/CMakeLists.txt) file should look like this:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-24"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-66"></span>_[https://raw.github.com/ros/catkin_tutorials/master/create_package_pubsub/catkin_ws/src/beginner_tutorials/CMakeLists.txt](https://raw.github.com/ros/catkin_tutorials/master/create_package_pubsub/catkin_ws/src/beginner_tutorials/CMakeLists.txt)_<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-51"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-3-48"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-4-47"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-5-46"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-6-43"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-7-31"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-8-30"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-9-29"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-10-27"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-11-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-12-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-13-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-14-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-15-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-16-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-17-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-18-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-19-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-20-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-21-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-22-26"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-23-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-24-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-24"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-22"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-19"></span>

<div class="codearea" dir="ltr" lang="en"><script type="text/javascript">document.write('<a href="#" onclick="return togglenumber(\'roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e\', 1, 1);" \ class="codenumbers">Toggle line numbers<\/a>');</script>

<pre dir="ltr" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e" lang="en"><span class="line"><span class="LineNumber">[1](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_1)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_1"></span>cmake_minimum_required(VERSION 2.8.3)</span>
<span class="line"><span class="LineNumber">[2](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_2)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_2"></span>project(beginner_tutorials)</span>
<span class="line"><span class="LineNumber">[3](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_3)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_3"></span></span>
<span class="line"><span class="LineNumber">[4](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_4)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_4"></span>## Find catkin and any catkin packages</span>
<span class="line"><span class="LineNumber">[5](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_5)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_5"></span>find_package(catkin REQUIRED COMPONENTS roscpp rospy std_msgs genmsg)</span>
<span class="line"><span class="LineNumber">[6](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_6)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_6"></span></span>
<span class="line"><span class="LineNumber">[7](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_7)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_7"></span>## Declare ROS messages and services</span>
<span class="line"><span class="LineNumber">[8](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_8)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_8"></span>add_message_files(FILES Num.msg)</span>
<span class="line"><span class="LineNumber">[9](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_9)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_9"></span>add_service_files(FILES AddTwoInts.srv)</span>
<span class="line"><span class="LineNumber">[10](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_10)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_10"></span></span>
<span class="line"><span class="LineNumber">[11](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_11)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_11"></span>## Generate added messages and services</span>
<span class="line"><span class="LineNumber">[12](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_12)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_12"></span>generate_messages(DEPENDENCIES std_msgs)</span>
<span class="line"><span class="LineNumber">[13](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_13)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_13"></span></span>
<span class="line"><span class="LineNumber">[14](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_14)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_14"></span>## Declare a catkin package</span>
<span class="line"><span class="LineNumber">[15](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_15)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_15"></span>catkin_package()</span>
<span class="line"><span class="LineNumber">[16](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_16)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_16"></span></span>
<span class="line"><span class="LineNumber">[17](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_17)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_17"></span>## Build talker and listener</span>
<span class="line"><span class="LineNumber">[18](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_18)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_18"></span>include_directories(include ${catkin_INCLUDE_DIRS})</span>
<span class="line"><span class="LineNumber">[19](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_19)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_19"></span></span>
<span class="line"><span class="LineNumber">[20](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_20)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_20"></span>add_executable(talker src/talker.cpp)</span>
<span class="line"><span class="LineNumber">[21](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_21)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_21"></span>target_link_libraries(talker ${catkin_LIBRARIES})</span>
<span class="line"><span class="LineNumber">[22](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_22)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_22"></span>add_dependencies(talker beginner_tutorials_generate_messages_cpp)</span>
<span class="line"><span class="LineNumber">[23](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_23)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_23"></span></span>
<span class="line"><span class="LineNumber">[24](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_24)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_24"></span>add_executable(listener src/listener.cpp)</span>
<span class="line"><span class="LineNumber">[25](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_25)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_25"></span>target_link_libraries(listener ${catkin_LIBRARIES})</span>
<span class="line"><span class="LineNumber">[26](#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_26)</span> <span class="LineAnchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.CA-56e552a9f29027036adb74aeea6375a15de4f70e_26"></span>add_dependencies(listener beginner_tutorials_generate_messages_cpp)</span>
</pre>

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-19"></span>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-25-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-26-25"></span>

This will create two executables, <tt class="backtick">talker</tt> and <tt class="backtick">listener</tt>, which by default will go into package directory of your [devel space](/catkin/workspaces#Development_.28Devel.29_Space), located by default at <tt class="backtick">~/catkin_ws/devel/lib/<packagename></tt>.<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-27-25"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-28-23"></span>

Note that you have to add dependencies for the executable targets to message generation targets:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-29-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-30-21"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-31-20"></span>

<pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-67"></span>add_dependencies(talker beginner_tutorials_generate_messages_cpp)</pre>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-32-20"></span>

This makes sure message headers of this package are generated before being used. If you use messages from other packages inside your catkin workspace, you need to add dependencies to their respective generation targets as well, because catkin builds all projects in parallel. As of *Groovy* you can use the following variable to depend on all necessary targets:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-33-20"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-34-19"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-35-18"></span>

<pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-68"></span>add_dependencies(talker ${catkin_EXPORTED_TARGETS})</pre>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-36-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-37-18"></span>

You can invoke executables directly or you can use rosrun to invoke them. They are not placed in '<prefix>/bin' because that would pollute the PATH when installing your package to the system. If you wish for your executable to be on the PATH at installation time, you can setup an install target, see: [catkin/CMakeLists.txt](/catkin/CMakeLists.txt)<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-38-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-39-18"></span>

For more detailed discription of the [CMakeLists.txt](/catkin/CMakeLists.txt) file see: [catkin/CMakeLists.txt](/catkin/CMakeLists.txt)<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-40-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-41-18"></span>

Now run <tt class="backtick">catkin_make</tt>:<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-42-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-43-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-44-18"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-45-18"></span>

<pre><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-1-69"></span># In your catkin workspace
<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-2-52"></span>$ catkin_make  </pre>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-46-18"></span>

Note: Or if you're adding as new pkg, you may need to tell catkin to force making by <tt class="backtick">--force-cmake</tt> option. See [catkin/Tutorials/using_a_workspace#With_catkin_make](/catkin/Tutorials/using_a_workspace#With_catkin_make).

</div>

<span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-237"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.line-238"></span><span class="anchor" id="roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.bottom"></span></div>

<span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span>

Now that you have written a simple publisher and subscriber, let's [examine the simple publisher and subscriber](/ROS/Tutorials/ExaminingPublisherSubscriber).<span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span>

### Additional Resources

<span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span>

Here are some additional resources contributed by the community:<span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span>

#### Video Tutorial

<span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span>

The following video presents a small tutorial explaining how to write and test a publisher and subscriber in ROS with C++ and Python based on the talker/listener example above<span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span>

<object width="480" height="295"><param name="movie" value="http://www.youtube.com/v/8bUkLNEu5Ns&amp;hl=en_US&amp;fs=1&amp;hd=1"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><embed src="http://www.youtube.com/v/8bUkLNEu5Ns&amp;hl=en_US&amp;fs=1&amp;hd=1" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="480" height="295"></object><span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span>

<span class="anchor" id="line-40"></span>

<span class="anchor" id="line-41"></span>

<span class="anchor" id="line-42"></span>

<span class="anchor" id="line-43"></span><span class="anchor" id="bottom"></span>

</div>

Wiki: ROS/Tutorials/WritingPublisherSubscriber(c++) (last edited 2015-08-04 18:23:54 by <span title="William J. Woodall @ 70-35-50-58.static.wiline.com[70.35.50.58]">[WilliamWoodall](/WilliamWoodall "William J. Woodall @ 70-35-50-58.static.wiline.com[70.35.50.58]")</span>)
